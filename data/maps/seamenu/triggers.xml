<?xml version="1.0" encoding="windows-1251" standalone="yes" ?>
<triggers>
	<trigger Name="GlobalVar" active="1">
		<event timeout="0" eventid="GE_TIME_PERIOD" />
		<script>
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger	Name="MainStart"	active="1">
		<event eventid="GE_GAME_START" ObjName="Player1" />
		<script>
			RuleConsole("cinematic_spring_coeff 2.0")

			SetGameTime(20,00)

			CreateVehicleEx("HCruiserCD01", "veh01", CVector(1190, 285, 4480), 1500)
			CreateVehicleEx("DestroyerCD02", "veh02", CVector(1130, 285, 4530), 1500)
			CreateVehicleEx("SemibossCD01", "veh08", CVector(1180, 285, 4590), 1500)
			CreateVehicleEx("DestroyerCD02", "veh04", CVector(1035, 285, 4600), 1500)
			CreateVehicleEx("DestroyerCD01", "veh05", CVector(1225, 285, 4680), 1500)
			CreateVehicleEx("DestroyerCD01", "veh06", CVector(1010, 285, 4695), 1500)
			CreateVehicleEx("HCruiserCD01", "veh07", CVector(1100, 285, 4730), 1500)
			CreateVehicleEx("DestroyerCD02", "veh03", CVector(1175, 285, 4775), 1500)
			
			local Plf = GetPlayerVehicle()
			if Plf then
				Plf:SetRotation(Quaternion(0.0000, 0.7071, 0.0000, 0.7071))
				Plf:SetExternalPathByName("pl_ex")
				Plf:LimitMaxSpeed(4)
			end
			local veh
			for i=1, 8 do
				veh = getObj("veh0"..i)
				if veh then
					veh:SetRotation(Quaternion(0.0000, 0.7071, 0.0000, 0.7071))
					veh:SetExternalPathByName("veh0"..i.."_ex")
					veh:SetCruisingSpeed(4)
				end
			end

			local PlfID = GetPlayerVehicleId()
			local veh1ID = getObj("veh0"..math.random(7)):GetId()
			local veh2ID = getObj("veh0"..math.random(7)):GetId()
			local veh3ID = getObj("veh0"..math.random(7)):GetId()
			local veh4ID = getObj("veh0"..math.random(7)):GetId()
			local veh5ID = getObj("veh0"..math.random(7)):GetId()
			local veh6ID = getObj("veh0"..math.random(7)):GetId()
			local veh7ID = getObj("veh0"..math.random(7)):GetId()
			local veh8ID = getObj("veh0"..math.random(7)):GetId()
			local veh9ID = getObj("veh0"..math.random(7)):GetId()
			local veh10ID = getObj("veh0"..math.random(7)):GetId()
--			Fly("main_start", CINEMATIC_NO_AIM, 0, 21.55, 1, 0 )
--			FlyLinked("main01", veh1ID, 2.86, 0, 0, veh1ID )
--			FlyLinked("main02", veh2ID, 2.86, 0, 0, veh2ID )
--			FlyLinked("main03", veh3ID, 2.86, 0, 0, veh3ID )
--			FlyLinked("main04", veh4ID, 2.86, 0, 0, veh4ID )
--			FlyLinked("main05", veh5ID, 2.86, 0, 0, veh5ID )
--			FlyLinked("main06", veh6ID, 2.86, 0, 0, veh6ID )
--			FlyLinked("main07", veh7ID, 2.86, 0, 0, veh7ID )
--			FlyLinked("main08", veh8ID, 2.86, 0, 0, veh8ID )
--			FlyLinked("main09", veh9ID, 2.86, 0, 0, veh9ID )
--			FlyLinked("main10", veh10ID, 2.86, 0, 0, veh10ID )
			Fly("main_middle", CINEMATIC_NO_AIM, 0, 25, 1, 0 )
			FlyLinked("main_end", PlfID, 200, 0, 0, PlfID, nil, nil, nil, 1 )
--			Fly("main_end", CINEMATIC_NO_AIM, 0, 200, 0, 0 )
			-- FlyLinked( PathName, Id, PlayTime, StartFade, EndFade, LookToId, VisPanel, RelativeRotations, WaitWhenStop, InterpolateFromPrevious )
			StartCinematic()
			UpdateCinematic( 1 )

			trigger:Deactivate()
		</script>
	</trigger>

	<trigger Name="trMusicManager" active="0">
		<event	timeout="0.1"		eventid="GE_TIME_PERIOD" />
		<script>
			StopPlayingCustomMusic()

			println("what kind of code sorcery is this you may ask")
			
			trigger:Deactivate()
		</script>
	</trigger>

	<trigger	Name="trMusic"	active="1">
		<event	timeout="0.1"		eventid="GE_TIME_PERIOD" />
		<script>
			PlayMusic("bs_mainmenu")

			trigger:Deactivate()
		</script>
	</trigger>
</triggers>